___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "displayName": "Acquia Lift Capture",
  "description": "Implement Event, Update Person, and Identity captures for Acquia Lift with this GTM template.",
  "categories": [
    "ANALYTICS",
    "EXPERIMENTATION",
    "MARKETING",
    "PERSONALIZATION",
    "CONVERSIONS"
  ],
  "securityGroups": [],
  "id": "cvt_temp_public_id",
  "type": "TAG",
  "version": 1,
  "brand": {
    "displayName": "acquia",
    "id": "github.com_acquia",
    "thumbnail": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAYAAAA+s9J6AAAACXBIWXMAAC4jAAAuIwF4pT92AAAGAGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDEtMjVUMTA6NTY6MzgtMDY6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMDEtMjVUMTA6NTY6MzgtMDY6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTAxLTI1VDEwOjU2OjM4LTA2OjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmEwMGRiM2IzLTcyZjUtNDkyZC05ZmEyLTg3NWQ2Y2M0ZTg5NiIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjdiN2QyNzg2LTdkODMtMTI0YS1hZWZhLTdiOWMxZGZiOTBkNiIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjA2MTNjMTk3LTYxMTYtNDM1Yy05OWU0LTEwYmU4MWYxZTY0MyIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MDYxM2MxOTctNjExNi00MzVjLTk5ZTQtMTBiZTgxZjFlNjQzIiBzdEV2dDp3aGVuPSIyMDIwLTAxLTI1VDEwOjU2OjM4LTA2OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YTAwZGIzYjMtNzJmNS00OTJkLTlmYTItODc1ZDZjYzRlODk2IiBzdEV2dDp3aGVuPSIyMDIwLTAxLTI1VDEwOjU2OjM4LTA2OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4W2PDuAAArVUlEQVR4nO2df3QTx7n3n1lJ/iHbwthgyyBi42DRlPwA2gRCIIFAC7SXNNdAEkrbYLjpe0NyAyl5oU3hJL1Jc4ubvAlJgNuTgN1QSMCKk4aeYHoMSQrhV1qgkJQgg5FBYIHxD2R7bUvamfcPJCLEarW72tWu5PmcwwGvdmfGQl89zzzPMzOIEAKU5KCjjzPmphuUao4AAJJxL99zYj9E4W0IXetXMFoPgCKO1w61GPac7b5N5uN8H3AU8Xrkn2jPIp57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\u003d"
  },
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "SELECT",
    "name": "eventType",
    "displayName": "Capture Type",
    "selectItems": [
      {
        "value": "capture",
        "displayValue": "Event"
      },
      {
        "value": "captureIdentity",
        "displayValue": "Identity"
      },
      {
        "value": "updatePerson",
        "displayValue": "Update Person"
      }
    ],
    "simpleValueType": true
  },
  {
    "displayName": "Event ID",
    "simpleValueType": true,
    "name": "eventId",
    "type": "TEXT",
    "valueHint": "e.g. file_download",
    "enablingConditions": [
      {
        "paramName": "eventType",
        "paramValue": "capture",
        "type": "EQUALS"
      }
    ]
  },
  {
    "displayName": "Engagement Score",
    "simpleValueType": true,
    "name": "engScore",
    "type": "TEXT",
    "valueHint": "e.g. 5",
    "enablingConditions": [
      {
        "paramName": "eventType",
        "paramValue": "capture",
        "type": "EQUALS"
      }
    ],
    "valueValidators": [
      {
        "type": "POSITIVE_NUMBER"
      }
    ]
  },
  {
    "displayName": "Event Custom Parameters",
    "name": "eventParameters",
    "type": "GROUP",
    "subParams": [
      {
        "displayName": "Enter custom meta data and/or assign an engagement_score value to this event. If using event or person_udf the field must be configured in the column meta data table and mapped to a custom_field accessor.   Please reference https://docs.acquia.com/lift/profile-mgr/admin/column-meta-data/ for further help.",
        "name": "eventParams",
        "simpleTableColumns": [
          {
            "valueValidators": [
              {
                "type": "REGEX",
                "args": [
                  "^(event|person)_udf(5[0]|[1-4][0-9]|[1-9])$"
                ]
              }
            ],
            "defaultValue": "",
            "displayName": "Parameter Name",
            "name": "paramName",
            "isUnique": true,
            "type": "TEXT",
            "valueHint": "Must begin with event_udf or person_udf"
          },
          {
            "defaultValue": "",
            "displayName": "Parameter Value",
            "name": "paramValue",
            "type": "TEXT",
            "valueHint": ""
          }
        ],
        "type": "SIMPLE_TABLE",
        "newRowButtonText": "Add Custom Parameter",
        "help": "",
        "valueValidators": []
      }
    ],
    "enablingConditions": [
      {
        "paramName": "eventType",
        "paramValue": "capture",
        "type": "EQUALS"
      }
    ],
    "groupStyle": "ZIPPY_CLOSED",
    "help": "If using event or person_udf the field must be configured in the column meta data table and mapped to a custom_field accessor. \n\nPlease reference https://docs.acquia.com/lift/profile-mgr/admin/column-meta-data/ for further help."
  },
  {
    "displayName": "Update Person Custom Parameters",
    "name": "updateCustomParameters",
    "type": "GROUP",
    "subParams": [
      {
        "displayName": "This field must be configured in the column meta data table and mapped to a custom_field accessor such as person_udf1. Please reference https://docs.acquia.com/lift/profile-mgr/admin/column-meta-data/ for further help.",
        "name": "updateParams",
        "simpleTableColumns": [
          {
            "valueValidators": [
              {
                "type": "REGEX",
                "args": [
                  "^person_udf(5[0]|[1-4][0-9]|[1-9])$"
                ]
              }
            ],
            "defaultValue": "person_udf1",
            "displayName": "Parameter Name",
            "name": "paramName",
            "isUnique": true,
            "type": "TEXT",
            "valueHint": "Must begin with event_udf and not exceed event_udf50"
          },
          {
            "defaultValue": "",
            "displayName": "Parameter Value",
            "name": "paramValue",
            "type": "TEXT",
            "valueHint": ""
          }
        ],
        "type": "SIMPLE_TABLE",
        "newRowButtonText": "Add Custom Parameter",
        "help": ""
      }
    ],
    "enablingConditions": [
      {
        "paramName": "eventType",
        "paramValue": "updatePerson",
        "type": "EQUALS"
      }
    ],
    "groupStyle": "ZIPPY_CLOSED",
    "help": "This field must be configured in the column meta data table and mapped to a custom_field accessor. Please reference https://docs.acquia.com/lift/profile-mgr/admin/column-meta-data/ for further help."
  },
  {
    "displayName": "Identity Default Parameters",
    "name": "identityDefaultParameters",
    "type": "GROUP",
    "subParams": [
      {
        "displayName": "When capturing events, you may want to directly send identifying visitor information to Acquia Lift such as the website visitor’s email address, social media username, or an identifier from another system (such as a subscriber ID).",
        "name": "identityDefault",
        "simpleTableColumns": [
          {
            "valueValidators": [],
            "defaultValue": "event_udf",
            "displayName": "Parameter Name",
            "name": "paramName",
            "isUnique": false,
            "type": "SELECT",
            "valueHint": "Must begin with event_udf",
            "selectItems": [
              {
                "value": "email",
                "displayValue": "Email"
              },
              {
                "value": "account",
                "displayValue": "Account"
              },
              {
                "value": "facebook",
                "displayValue": "Facebook"
              },
              {
                "value": "twitter",
                "displayValue": "Twitter"
              },
              {
                "value": "name",
                "displayValue": "Name"
              }
            ]
          },
          {
            "defaultValue": "",
            "displayName": "Parameter Value",
            "name": "paramValue",
            "type": "TEXT",
            "valueHint": ""
          }
        ],
        "type": "SIMPLE_TABLE",
        "newRowButtonText": "Add Default Parameter",
        "alwaysInSummary": false,
        "help": "Reference https://docs.acquia.com/lift/api/javascript/identity/ for additional information."
      }
    ],
    "enablingConditions": [
      {
        "paramName": "eventType",
        "paramValue": "captureIdentity",
        "type": "EQUALS"
      }
    ],
    "groupStyle": "ZIPPY_CLOSED"
  },
  {
    "displayName": "Identity Custom Parameters",
    "name": "identityCustomParameters",
    "type": "GROUP",
    "subParams": [
      {
        "displayName": "This field must be configured in the column meta data table and mapped to a custom_field accessor such as person_udf1. Please reference https://docs.acquia.com/lift/profile-mgr/admin/column-meta-data/ for further help.",
        "name": "identityCustom",
        "simpleTableColumns": [
          {
            "valueValidators": [
              {
                "type": "REGEX",
                "args": [
                  "^person_udf(5[0]|[1-4][0-9]|[1-9])$"
                ]
              }
            ],
            "defaultValue": "person_udf1",
            "displayName": "Parameter Name",
            "name": "paramName",
            "isUnique": true,
            "type": "TEXT",
            "valueHint": "Must begin with event_udf and not exceed event_udf50"
          },
          {
            "defaultValue": "",
            "displayName": "Parameter Value",
            "name": "paramValue",
            "type": "TEXT",
            "valueHint": ""
          }
        ],
        "type": "SIMPLE_TABLE",
        "newRowButtonText": "Add Custom Parameter",
        "help": ""
      }
    ],
    "enablingConditions": [
      {
        "paramName": "eventType",
        "paramValue": "captureIdentity",
        "type": "EQUALS"
      }
    ],
    "groupStyle": "ZIPPY_CLOSED",
    "help": "This field must be configured in the column meta data table and mapped to a custom_field accessor. Please reference https://docs.acquia.com/lift/profile-mgr/admin/column-meta-data/ for further help."
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const queryPermission = require('queryPermission');
const createQueue = require('createQueue');
const getType = require('getType');
const logToConsole = require('logToConsole');
const makeInteger = require('makeNumber');
const liftQueuePush = createQueue('_tcaq');
const eventType = data.eventType;
const engScore = data.engScore;
const params = {};
const paramDef = {};
const paramCus = {};
const eventParams = data.eventParams;
const identityDefault = data.identityDefault;
const identityCustom = data.identityCustom;
const updateParams = data.updateParams;

    if (eventType == 'capture') {
      if(eventParams != undefined) {
        eventParams.forEach(
        function(item, index) {
          params[item.paramName] = item.paramValue;
        }
       );
     }
      if(engScore != undefined){
         params.engagement_score = makeInteger(engScore);
    }
     liftQueuePush([eventType, data.eventId, params]);
     data.gtmOnSuccess();
    } else if (eventType == 'captureIdentity' && identityDefault == undefined) {
       identityCustom.forEach(
        function(item, index) {
          paramCus[item.paramName] = item.paramValue;
       	}
       );
     logToConsole(liftQueuePush(['updatePerson', paramCus]));
     data.gtmOnSuccess();
   } else if (eventType == 'captureIdentity' && identityDefault != undefined) {
      identityDefault.forEach(
         function(item, index) {
           paramDef[item.paramValue] = item.paramName;
         }
        );
           for (var key in paramDef) {
             if (paramDef.hasOwnProperty(key)) {
             liftQueuePush([eventType, key, paramDef[key]]);
     		 data.gtmOnSuccess();
        	 }
           }
           if (identityCustom) {
           	 identityCustom.forEach(
             function(item, index) {
               paramCus[item.paramName] = item.paramValue;
                 }
                );
           	 liftQueuePush(['updatePerson', paramCus]);
     		 data.gtmOnSuccess();
     		}
   } else if (eventType == 'updatePerson') {
       updateParams.forEach(
            function(item, index) {
             paramCus[item.paramName] = item.paramValue;
               }
             );
        liftQueuePush([eventType, paramCus]);
    	data.gtmOnSuccess();
           }


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "_tcaq"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: Capture event with no Custom Parameters
  code: "const mockData = {\n  eventType :'capture',\n  eventId :'test_event'  \n\
    };\n\n// Call runCode to run the template's code.\nrunCode(mockData);\n\n// Verify\
    \ that the tag finished successfully.\nassertApi('gtmOnSuccess').wasCalled();"
- name: Capture event with Custom Parameters
  code: |-
    const mockData = {
      eventType :'capture',
      eventId :'test_event',
      eventParams:[{'event_udf1':'test'},{'event_udf2':'test'}]

    };

    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    assertApi('gtmOnSuccess').wasCalled();
- name: CaptureIdentity event with default parameters and no custom parameters
  code: |-
    const mockData = {
      eventType :'captureIdentity',
      identityDefault:[{'email':'test@gmail.com'},{'account':'test account'}]
    };

    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    assertApi('gtmOnSuccess').wasCalled();
- name: CaptureIdentity event with default and custom parameters
  code: |-
    const mockData = {
      eventType :'captureIdentity',
      identityDefault:[{'email':'test@gmail.com'},{'account':'test account'}],
      identityCustom: [{'person_udf1':'tester'},{'person_udf2':'qa tester'}]
    };

    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    assertApi('gtmOnSuccess').wasCalled();
- name: CaptureIdentity event with custom parameters only
  code: |-
    const mockData = {
      eventType :'captureIdentity',
      identityCustom: [{'person_udf1':'tester'},{'person_udf2':'qa tester'}]
    };

    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    assertApi('gtmOnSuccess').wasCalled();
- name: Update Person event with custom parameters
  code: |-
    const mockData = {
      eventType :'updatePerson',
      updateParams: [{'person_udf1':'tester'},{'person_udf2':'qa tester'}]
    };

    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    assertApi('gtmOnSuccess').wasCalled();


___NOTES___

Created on 3/17/2020, 10:09:40 AM


